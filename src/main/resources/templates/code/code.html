<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org" th:replace="increase(title='代码生成')">
<div th:fragment="content">
    <div class="row" xmlns="">
        <div class="col-sm-12">
            <div class="ibox float-e-margins">
                <div class="ibox-title"><h5>代码生成</h5></div>
                <div class="ibox-content">
                    <div class="row row-lg">
                        <div class="col-sm-12">
                            <div class="form-horizontal" id="generate">
                                <div class="row">
                                    <div class="col-sm-4" th:include="include :: _hInput(id='projectPath',name='项目路径',value=${params.projectPath})"/>
                                    <div class="col-sm-4" th:include="include :: _hInput(id='projectPackage',name='项目的包',value=${params.projectPackage})"/>
                                    <div class="col-sm-4" th:include="include :: _hInput(id='corePackage',name='核心包',value=${params.corePackage})"/>
                                </div>

                                <div class="row">
                                    <div class="col-sm-3" th:include="include :: _hInput(id='author',name='作者',value=${params.author})"></div>
                                    <div class="col-sm-3" th:include="include :: _hInput(id='bizName',name='业务名',value=${params.bizName})"></div>
                                    <div class="col-sm-3" th:include="include :: _hInput(id='moduleName',name='模块名',value=${params.moduleName})"></div>
                                    <div class="col-sm-3" th:include="include :: _hInput(id='parentMenuName',name='父级菜单名称',underline='false',
                                    readonly='readonly',onFun='Code.showMenuSelectTree(); return false;',bCss='background-color: #ffffff !important;',
                                    value=${params.parentMenuName}, selFlag='TRUE',selectId='pcodeTreeDiv',selectTreeId='pcodeTree')" />
                                </div>

                                <div class="row">
                                    <div class="col-sm-3" th:include="include :: _hInput(id='tableName',name='表名称',value=${params.tableName})"/>
                                    <div class="col-sm-3" th:include="include :: _hInput(id='tableName',name='表名称',disabled='disabled')"/>
                                    <div class="col-sm-3" th:include="include :: _hInput(id='ignoreTabelPrefix',name='表前缀',value=${params.ignoreTabelPrefix})"/>
                                    <div class="col-sm-3" th:include="include :: _hInput(id='className',name='类名',disabled='disabled')" />
                                </div>
                                <div class="row">
                                    <div class="col-sm-6">
                                        <button id="genBtn" type="button" class="btn btn-primary mr10" onclick="Code.generate()">
                                            <span style="padding: 5px 20px;">生成</span>
                                        </button>
                                    </div>
                                </div>
                            </div>
                            <div style="padding-top: 10px; overflow: hidden"
                                 class="container-fluid">
                                <div class="col-md-12">
                                    <div class="row admin-form">
                                        <div class="col-md-3 col-md-offset-3">
                                            <h2>数据表</h2>
                                            <div class="list-group" id="tableList" data-bind="foreach: tables" style="height: 500px; overflow-y: scroll">
                                                <a href="javascript:void(0)" th:each="table : ${tables}" class="list-group-item" th:tableName="${table.tableName}"
                                                   th:onclick="Code.selectTable([[${table.tableName}]])">[(${table.tableName})]-[(${table.tableComment})]</a>
                                            </div>
                                        </div>
                                        <div class="col-md-3">
                                            <span><h2>模板</h2></span>
                                            <div class="list-group" id="templateList" style="height: 500px; overflow-y: scroll">
                                                <a href="javascript:void(0)" th:each="template : ${templates}" class="list-group-item" th:key="${template.key}"
                                                   th:onclick="Code.selectTemplate([[${template.key}]])">[(${template.desc})]</a>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                            <ul class="nav nav-list">
                                <li class="divider"></li>
                            </ul>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
    <script th:src="@{/js/common/select-list-object.js}"></script>
    <script th:src="@{/modular/code/gen.js}"></script>
</div>
</html>